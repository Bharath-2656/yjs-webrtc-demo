import{w as d}from"./index-Ci6yQmAz.js";const I=function(e){if(e==null)return G;if(typeof e=="string")return D(e);if(typeof e=="object")return z(e);if(typeof e=="function")return N(e);throw new Error("Expected function, string, or array as `test`")};function z(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=I(e[n]);return N(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function D(e){return N(t);function t(n){return n.tagName===e}}function N(e){return t;function t(n,r,i){return!!(H(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function G(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function H(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const x=I(function(e){return e.tagName==="audio"||e.tagName==="canvas"||e.tagName==="embed"||e.tagName==="iframe"||e.tagName==="img"||e.tagName==="math"||e.tagName==="object"||e.tagName==="picture"||e.tagName==="svg"||e.tagName==="video"}),A=function(e,t,n,r,i){const o=L(t);return O(e)?o.call(i,e,n,r):!1},L=function(e){if(e==null)return V;if(typeof e=="string")return Q(e);if(typeof e=="object")return J(e);if(typeof e=="function")return $(e);throw new Error("Expected function, string, or array as `test`")};function J(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=L(e[n]);return $(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Q(e){return $(t);function t(n){return n.tagName===e}}function $(e){return t;function t(n,r,i){return!!(O(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function V(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function O(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const R=function(e){if(e==null)return ee;if(typeof e=="function")return b(e);if(typeof e=="object")return Array.isArray(e)?Y(e):Z(e);if(typeof e=="string")return _(e);throw new Error("Expected function, string, or object as test")};function Y(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=R(e[n]);return b(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Z(e){const t=e;return b(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function _(e){return b(t);function t(n){return n&&n.type===e}}function b(e){return t;function t(n,r,i){return!!(te(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ee(){return!0}function te(e){return e!==null&&typeof e=="object"&&"type"in e}const ne=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],re=["button","input","select","textarea"],ie=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],E=R(["comment","doctype"]);function oe(e,t){T(e,{collapse:pe(le),whitespace:"normal"})}function T(e,t){if("children"in e){const n={...t};return(e.type==="root"||C(e))&&(n.before=!0,n.after=!0),n.whitespace=se(e,t),ae(e,n)}if(e.type==="text"){if(t.whitespace==="normal")return ce(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{ignore:E(e),stripAtStart:!1,remove:!1}}function ce(e,t){const n=t.collapse(e.value),r={ignore:!1,stripAtStart:!1,remove:!1};let i=0,o=n.length;return t.before&&S(n.charAt(0))&&i++,i!==o&&S(n.charAt(o-1))&&(t.after?o--:r.stripAtStart=!0),i===o?r.remove=!0:e.value=n.slice(i,o),r}function ae(e,t){let n=t.before;const r=t.after,i=e.children;let o=i.length,c=-1;for(;++c<o;){const s=T(i[c],{...t,after:W(i,c,r),before:n});s.remove?(i.splice(c,1),c--,o--):s.ignore||(n=s.stripAtStart),q(i[c])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||r),remove:!1}}function W(e,t,n){for(;++t<e.length;){const r=e[t];let i=fe(r);if(i===void 0&&"children"in r&&!ue(r)&&(i=W(r.children,-1)),typeof i=="boolean")return i}return n}function fe(e){if(e.type==="element"){if(q(e))return!1;if(C(e))return!0}else if(e.type==="text"){if(!d(e))return!1}else if(!E(e))return!1}function q(e){return x(e)||A(e,re)}function C(e){return A(e,ne)}function ue(e){return!!(e.type==="element"&&e.properties.hidden)||E(e)||A(e,ie)}function S(e){return e===" "||e===`
`}function le(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function pe(e){return t;function t(n){return String(n).replace(/[\t\n\v\f\r ]+/g,e)}}function se(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}const ye={}.hasOwnProperty;function he(e,t){const n=e.type==="element"&&ye.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const ge=new Set(["pingback","prefetch","stylesheet"]);function me(e){if(e.type!=="element"||e.tagName!=="link")return!1;if(e.properties.itemProp)return!0;const t=e.properties.rel;let n=-1;if(!Array.isArray(t)||t.length===0)return!1;for(;++n<t.length;)if(!ge.has(String(t[n])))return!1;return!0}const F=function(e){if(e==null)return ke;if(typeof e=="string")return be(e);if(typeof e=="object")return de(e);if(typeof e=="function")return j(e);throw new Error("Expected function, string, or array as `test`")};function de(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=F(e[n]);return j(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function be(e){return j(t);function t(n){return n.tagName===e}}function j(e){return t;function t(n,r,i){return!!(we(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ke(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function we(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const Ne=F(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),xe=F("meta");function Ae(e){return!!(e.type==="text"||Ne(e)||x(e)||me(e)||xe(e)&&he(e,"itemProp"))}const $e=["pre","script","style","textarea"],K=function(e){if(e==null)return Be;if(typeof e=="function")return k(e);if(typeof e=="object")return Array.isArray(e)?Ee(e):Fe(e);if(typeof e=="string")return je(e);throw new Error("Expected function, string, or object as test")};function Ee(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=K(e[n]);return k(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Fe(e){const t=e;return k(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function je(e){return k(t);function t(n){return n&&n.type===e}}function k(e){return t;function t(n,r,i){return!!(Se(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Be(){return!0}function Se(e){return e!==null&&typeof e=="object"&&"type"in e}const M=[],Pe=!0,P=!1,U="skip";function ve(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=K(i),c=r?-1:1;s(e,void 0,[])();function s(a,u,l){const f=a&&typeof a=="object"?a:{};if(typeof f.type=="string"){const y=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(a.type+(y?"<"+y+">":""))+")"})}return p;function p(){let y=M,g,h,B;if((!t||o(a,u,l[l.length-1]||void 0))&&(y=Ie(n(a,l)),y[0]===P))return y;if("children"in a&&a.children){const m=a;if(m.children&&y[0]!==U)for(h=(r?m.children.length:-1)+c,B=l.concat(m);h>-1&&h<m.children.length;){const X=m.children[h];if(g=s(X,h,B)(),g[0]===P)return g;h=typeof g[1]=="number"?g[1]:h+c}}return y}}}function Ie(e){return Array.isArray(e)?e:typeof e=="number"?[Pe,e]:e==null?M:[e]}const Le={};function Oe(e,t){const n=t||Le,r={blanks:n.blanks||[],head:!1,indentInitial:n.indentInitial!==!1,indent:typeof n.indent=="number"?" ".repeat(n.indent):typeof n.indent=="string"?n.indent:"  "};oe(e),ve(e,i);function i(c,s){if(!("children"in c))return;if(c.type==="element"&&c.tagName==="head"&&(r.head=!0),r.head&&c.type==="element"&&c.tagName==="body"&&(r.head=!1),c.type==="element"&&$e.includes(c.tagName))return U;if(c.children.length===0||!w(r,c))return;let a=s.length;r.indentInitial||a--;let u=!1;for(const p of c.children)(p.type==="comment"||p.type==="text")&&(p.value.includes(`
`)&&(u=!0),p.value=p.value.replace(/ *\n/g,"$&"+r.indent.repeat(a)));const l=[];let f;for(const p of c.children)(w(r,p)||u&&!f)&&(o(l,a,p),u=!0),f=p,l.push(p);f&&(u||w(r,f))&&(d(f)&&(l.pop(),f=l[l.length-1]),o(l,a-1)),c.children=l}function o(c,s,a){const u=c[c.length-1],l=u&&d(u)?c[c.length-2]:u,f=(v(r,l)&&v(r,a)?`

`:`
`)+r.indent.repeat(Math.max(s,0));u&&u.type==="text"?u.value=d(u)?f:u.value+f:c.push({type:"text",value:f})}}function v(e,t){return!!(t&&t.type==="element"&&e.blanks.length>0&&e.blanks.includes(t.tagName))}function w(e,t){return t.type==="root"||(t.type==="element"?e.head||t.tagName==="script"||x(t)||!Ae(t):!1)}function Te(e){return function(t){Oe(t,e)}}export{Te as default};
