import{c as P}from"./index-DiTsIWAy.js";import{e as W}from"./index-f-CdWx_B.js";import{p as ye}from"./index-C6bS_AbM.js";import{v as B,E as we,S as xe}from"./index-CEaDWk2K.js";import{t as ke}from"./index-C_aolqmU.js";import"./index-Ci6yQmAz.js";const C=function(e,t,r,n,i){const l=f(t);return!e||!e.type||typeof e.type!="string"?!1:l.call(i,e,r,n)},f=function(e){if(e==null)return R;if(typeof e=="string")return Se(e);if(typeof e=="object")return ve(e);if(typeof e=="function")return te(e);throw new Error("Expected function, string, or array as test")};function ve(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=f(e[r]);return te(n);function n(...i){let l=-1;for(;++l<t.length;)if(t[l].call(this,...i))return!0;return!1}}function Se(e){return t;function t(r){return R(r)&&r.tagName===e}}function te(e){return t;function t(r,...n){return R(r)&&!!e.call(this,r,...n)}}function R(e){return!!(e&&typeof e=="object"&&e.type==="element"&&typeof e.tagName=="string")}const Ne=f(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]);function Ae(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}const Ie=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],Be=["button","input","select","textarea"],Te=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],L=P(["doctype","comment"]);function Ce(e={}){const t=Pe(e.newlines?$e:Fe);return r=>{re(r,{collapse:t,whitespace:"normal"})}}function re(e,t){if("children"in e){const r=Object.assign({},t);return(e.type==="root"||le(e))&&(r.before=!0,r.after=!0),r.whitespace=Re(e,t),qe(e,r)}if(e.type==="text"){if(t.whitespace==="normal")return je(e,t);t.whitespace==="nowrap"&&(e.value=t.collapse(e.value))}return{remove:!1,ignore:L(e),stripAtStart:!1}}function je(e,t){const r=t.collapse(e.value),n={remove:!1,ignore:!1,stripAtStart:!1};let i=0,l=r.length;return t.before&&M(r.charAt(0))&&i++,i!==l&&M(r.charAt(l-1))&&(t.after?l--:n.stripAtStart=!0),i===l?n.remove=!0:e.value=r.slice(i,l),n}function qe(e,t){let r=t.before;const n=t.after,i=e.children;let l=i.length,s=-1;for(;++s<l;){const a=re(i[s],Object.assign({},t,{before:r,after:ne(i,s,n)}));a.remove?(i.splice(s,1),s--,l--):a.ignore||(r=a.stripAtStart),ie(i[s])&&(r=!1)}return{remove:!1,ignore:!1,stripAtStart:!!(r||n)}}function ne(e,t,r){for(;++t<e.length;){const n=e[t];let i=Ee(n);if(i===void 0&&"children"in n&&!Oe(n)&&(i=ne(n.children,-1)),typeof i=="boolean")return i}return r}function Ee(e){if(e.type==="element"){if(ie(e))return!1;if(le(e))return!0}else if(e.type==="text"){if(!Ae(e))return!1}else if(!L(e))return!1}function ie(e){return Ne(e)||C(e,Be)}function le(e){return C(e,Ie)}function Oe(e){return!!("properties"in e&&e.properties&&e.properties.hidden)||L(e)||C(e,Te)}function M(e){return e===" "||e===`
`}function $e(e){const t=/\r?\n|\r/.exec(e);return t?t[0]:" "}function Fe(){return" "}function Pe(e){return t;function t(r){return String(r).replace(/[\t\n\v\f\r ]+/g,e)}}function Re(e,t){if("tagName"in e&&e.properties)switch(e.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.properties.wrap?"pre-wrap":"pre";case"td":case"th":return e.properties.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}return t.whitespace}function o(e,t){const r=t.children||[],n=[];let i=-1;for(;++i<r.length;){const a=se(e,r[i],t);Array.isArray(a)?n.push(...a):a&&n.push(a)}let l=0,s=n.length;for(;l<s&&n[l].type==="break";)l++;for(;s>l&&n[s-1].type==="break";)s--;return l===0&&s===n.length?n:n.slice(l,s)}const T={}.hasOwnProperty;function g(e,t){return e.wrapText?t:t.replace(/\r?\n|\r/g," ")}function se(e,t,r){let n;if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;T.call(e.handlers,t.tagName)&&(n=e.handlers[t.tagName])}else T.call(e.handlers,t.type)&&(n=e.handlers[t.type]);return typeof n=="function"?n(e,t,r):Le(e,t)}function Le(e,t){return typeof t.value=="string"?e(t,"text",g(e,t.value)):o(e,t)}const Ue={}.hasOwnProperty;function S(e,t){const r=typeof t=="string"&&ze(e)&&e.type==="element"&&e.properties&&Ue.call(e.properties,t)&&e.properties[t];return r!=null&&r!==!1}function ze(e){return!!(e&&typeof e=="object"&&"type"in e)}const We=f(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),Me=new Set(["pingback","prefetch","stylesheet"]);function De(e){if(!C(e,"link"))return!1;if(S(e,"itemProp"))return!0;const r=(e.properties||{}).rel||[];let n=-1;if(!Array.isArray(r)||r.length===0)return!1;for(;++n<r.length;)if(!Me.has(String(r[n])))return!1;return!0}const He=f(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),Ke=f("meta");function Ve(e){return!!(Xe(e)&&(e.type==="text"||He(e)||We(e)||De(e)||Ke(e)&&S(e,"itemProp")))}function Xe(e){return e&&typeof e=="object"&&"type"in e}function ae(e){return ce(e,t);function t(r){const n=r[0];return r.length===1&&n.type==="text"&&(n.value===" "||n.value===`
`)?[]:{type:"paragraph",children:r}}}function j(e){let t=-1,r;for(;++t<e.length;)if(r=e[t],!oe(r)||"children"in r&&j(r.children))return!0;return!1}function ce(e,t,r){const n=r||Ge,i=Ye(e);let l=[],s=-1,a,c;for(;++s<i.length;)c=i[s],oe(c)?(a||(a=[]),a.push(c)):(a&&(l=l.concat(t(a)),a=void 0),l=l.concat(n(c)));return a&&(l=l.concat(t(a))),l}function Ye(e){let t=[],r=-1,n;for(;++r<e.length;)n=e[r],(n.type==="delete"||n.type==="link")&&j(n.children)?t=t.concat(_e(n)):t.push(n);return t}function _e(e){return ce(e.children,r,t);function t(n){if("children"in n&&"children"in e){const{children:i,...l}=e;return{...n,children:[{...W(!0,{},l),children:n.children}]}}return{...n}}function r(n){const{children:i,...l}=e;return{...W(!0,{},l),children:n}}}function oe(e){return e.data&&e.data.hName?Ve({type:"element",tagName:e.data.hName,properties:{},children:[]}):ye(e)}function Ge(e){return e}function d(e,t){return ae(o(e,t))}function w(e,t){return t==null?"":e.frozenBaseUrl?String(new URL(t,e.frozenBaseUrl)):t}function Je(e,t){const r=t.properties;return e(t,"link",{title:r.title||null,url:w(e,String(r.href||"")||null)},o(e,t))}function Qe(e,t){e.baseFound||(e.frozenBaseUrl=String(t.properties&&t.properties.href||"")||null,e.baseFound=!0)}function Ze(e,t){return e(t,"blockquote",d(e,t))}function et(e,t){return e.wrapText?e(t,"break"):e(t,"text"," ")}const D=function(e,t,r){const n=P(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t];return null},H=/\n/g,K=/[\t ]+/g,F=f("br"),tt=f("p"),V=f(["th","td"]),X=f("tr"),rt=f(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",st,at]),ue=f(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function N(e,t={}){const r="children"in e?e.children:[],n=ue(e),i=he(e,{whitespace:t.whitespace||"normal",breakBefore:!1,breakAfter:!1}),l=[];(e.type==="text"||e.type==="comment")&&l.push(...fe(e,{whitespace:i,breakBefore:!0,breakAfter:!0}));let s=-1;for(;++s<r.length;)l.push(...pe(r[s],e,{whitespace:i,breakBefore:s?void 0:n,breakAfter:s<r.length-1?F(r[s+1]):n}));const a=[];let c;for(s=-1;++s<l.length;){const u=l[s];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&a.push(`
`.repeat(c)||" "),c=-1,a.push(u))}return a.join("")}function pe(e,t,r){return e.type==="element"?nt(e,t,r):e.type==="text"?r.whitespace==="normal"?fe(e,r):it(e):[]}function nt(e,t,r){const n=he(e,r),i=e.children||[];let l=-1,s=[];if(rt(e))return s;let a,c;for(F(e)||X(e)&&D(t,e,X)?c=`
`:tt(e)?(a=2,c=2):ue(e)&&(a=1,c=1);++l<i.length;)s=s.concat(pe(i[l],e,{whitespace:n,breakBefore:l?void 0:a,breakAfter:l<i.length-1?F(i[l+1]):c}));return V(e)&&D(t,e,V)&&s.push("	"),a&&s.unshift(a),c&&s.push(c),s}function fe(e,t){const r=String(e.value),n=[],i=[];let l=0;for(;l<=r.length;){H.lastIndex=l;const c=H.exec(r),u=c&&"index"in c?c.index:r.length;n.push(lt(r.slice(l,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),l===0?t.breakBefore:!0,u===r.length?t.breakAfter:!0)),l=u+1}let s=-1,a;for(;++s<n.length;)n[s].charCodeAt(n[s].length-1)===8203||s<n.length-1&&n[s+1].charCodeAt(0)===8203?(i.push(n[s]),a=void 0):n[s]?(typeof a=="number"&&i.push(a),i.push(n[s]),a=0):(s===0||s===n.length-1)&&i.push(0);return i}function it(e){return[String(e.value)]}function lt(e,t,r){const n=[];let i=0,l;for(;i<e.length;){K.lastIndex=i;const s=K.exec(e);l=s?s.index:e.length,!i&&!l&&s&&!t&&n.push(""),i!==l&&n.push(e.slice(i,l)),i=s?l+s[0].length:l}return i!==l&&!r&&n.push(""),n.join(" ")}function he(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function st(e){return!!(e.properties||{}).hidden}function at(e){return e.tagName==="dialog"&&!(e.properties||{}).open}function ct(e){const t=String(e);let r=t.length;for(;r>0;){const n=t.codePointAt(r-1);if(n!==void 0&&(n===10||n===13))r--;else break}return t.slice(0,r)}const q="language-",ot=f("pre"),ut=f("code");function A(e,t){const r=t.children;let n=-1,i,l;if(ot(t))for(;++n<r.length;){const s=r[n];if(ut(s)&&s.properties&&s.properties.className&&Array.isArray(s.properties.className)){i=s.properties.className;break}}if(i){for(n=-1;++n<i.length;)if(String(i[n]).slice(0,q.length)===q){l=String(i[n]).slice(q.length);break}}return e(t,"code",{lang:l||null,meta:null},ct(g(e,N(t))))}function pt(e,t){return e(t,"html","<!--"+g(e,t.value)+"-->")}function E(e,t){return e(t,"delete",o(e,t))}function U(e){let t=-1;if(e.length>1){for(;++t<e.length;)if(e[t].spread)return!0}return!1}function de(e,t){const r=o(e,t);let n=-1;for(;++n<r.length;){const i=r[n];i.type!=="listItem"&&(r[n]={type:"listItem",spread:!1,checked:null,children:[i]})}return r}const ft=f("div"),ht=f("dt"),dt=f("dd");function gt(e,t){const r=t.children;let n=-1,i=[];const l=[];let s={titles:[],definitions:[]},a,c;for(;++n<r.length;)a=r[n],i=i.concat(ft(a)?a.children:a);for(n=-1;++n<i.length;)a=i[n],ht(a)?(dt(i[n-1])&&(l.push(s),s={titles:[],definitions:[]}),s.titles.push(a)):s.definitions.push(a);l.push(s),n=-1;const u=[];for(;++n<l.length;)c=[...Y(e,l[n].titles),...Y(e,l[n].definitions)],c.length>0&&u.push({type:"listItem",spread:c.length>1,checked:null,children:c});if(u.length>0)return e(t,"list",{ordered:!1,start:null,spread:U(u)},u)}function Y(e,t){const r=de(e,{type:"element",tagName:"x",children:t});return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:U(r),children:r}]}function I(e,t){return e(t,"emphasis",o(e,t))}function k(e,t){const r=Number(t.tagName.charAt(1))||1,n=e.wrapText;e.wrapText=!1;const i=e(t,"heading",{depth:r},o(e,t));return e.wrapText=n,i}function mt(e,t){return e(t,"thematicBreak")}function bt(e,t){const r=t.properties,n=String(r.src||""),i=String(r.title||"");if(n&&i)return{type:"link",title:null,url:w(e,n),children:[{type:"text",value:g(e,i)}]}}function _(e,t){const r=t.properties;return e(t,"image",{url:w(e,String(r.src||"")||null),title:r.title||null,alt:r.alt||""})}function v(e,t){return e(t,"inlineCode",g(e,N(t)))}const yt=f("option");function ge(e,t,r){const n=r||t.properties;let i=me(t);const l=Math.min(Number.parseInt(String(n.size),10),0)||(n.multiple?4:1);let s=-1;const a=[],c=[];for(;++s<i.length;)S(i[s],"selected")&&a.push(i[s]);for(i=(a.length>0?a:i).slice(0,l),s=-1;++s<i.length;){const h=i[s],b=g(e,N(h)),m=h.properties,y=b||String(m.label||""),x=String(m.value||"")||b;c.push([x,y===x?null:y])}return c}function me(e){const t=e.children;let r=-1,n=[],i;for(;++r<t.length;)i=t[r],Array.isArray(i.children)&&(n=n.concat(me(i))),yt(i)&&!S(i,"disabled")&&n.push(i);return n}const wt=f("datalist");function xt(e,t){const r=t.properties;let n=String(r.value||r.placeholder||"");const i=[],l=[];let s=[],a=-1,c;if(!(r.disabled||r.type==="hidden"||r.type==="file")){if(r.type==="checkbox"||r.type==="radio")return e(t,"text",g(e,e[r.checked?"checked":"unchecked"]));if(r.type==="image")return r.alt||n?e(t,"image",{url:w(e,String(r.src||"")||null),title:g(e,String(r.title||""))||null,alt:g(e,String(r.alt||n))}):[];if(n?s=[[n,null]]:r.type!=="password"&&r.type!=="file"&&r.type!=="submit"&&r.type!=="reset"&&r.type!=="button"&&r.list&&(c=String(r.list).toUpperCase(),T.call(e.nodeById,c)&&wt(e.nodeById[c])&&(s=ge(e,e.nodeById[c],r))),s.length!==0){if(r.type==="password"&&(s[0]=["•".repeat(s[0][0].length),null]),r.type==="url"||r.type==="email"){for(;++a<s.length;)n=w(e,s[a][0]),i.push(e(t,"link",{title:null,url:g(e,r.type==="email"?"mailto:"+n:n)},[{type:"text",value:g(e,s[a][1]||n)}])),a!==s.length-1&&i.push({type:"text",value:", "});return i}for(;++a<s.length;)l.push(s[a][1]?s[a][1]+" ("+s[a][0]+")":s[a][0]);return e(t,"text",g(e,l.join(", ")))}}}const kt=f("p"),vt=f("input");function O(e,t){const r=t.children[0];let n=null,i,l;kt(r)&&(i=r.children[0],vt(i)&&i.properties&&(i.properties.type==="checkbox"||i.properties.type==="radio")&&(n=!!i.properties.checked,l={...t,children:[{...r,children:r.children.slice(1)},...t.children.slice(1)]}));const s=d(e,l||t);return e(t,"listItem",{spread:s.length>1,checked:n},s)}const St=f("ol");function $(e,t){const r=St(t),n=de(e,t);let i=null;return r&&(i=S(t,"start")?Number.parseInt(String(t.properties.start),10):1),e(t,"list",{ordered:r,start:i,spread:U(n)},n)}const Nt=f("source"),At=f("video");function G(e,t){let r=o(e,t);const n=t.properties,i=At(t)&&String(n.poster||"");let l=String(n.src||""),s=-1,a=!1,c;if(B({type:"root",children:r},"link",u),a||j(r))return r;for(;!l&&++s<t.children.length;)c=t.children[s],Nt(c)&&(l=String(c.properties.src||""));return i&&(r=[{type:"image",title:null,url:w(e,i),alt:ke({children:r})}]),{type:"link",title:t.properties.title||null,url:w(e,l),children:r};function u(){return a=!0,we}}function J(e,t){const r=o(e,t);if(r.length>0)return e(t,"paragraph",r)}function It(e,t){const r=e.quotes[e.qNesting%e.quotes.length];e.qNesting++;const n=o(e,t);return e.qNesting--,n.unshift({type:"text",value:r.charAt(0)}),n.push({type:"text",value:r.length>1?r.charAt(1):r}),n}function Bt(e,t){let r=o(e,t);return(e.document||j(r))&&(r=ae(r)),e(t,"root",r)}function Tt(e,t){const r=ge(e,t);let n=-1;const i=[];let l;for(;++n<r.length;)l=r[n],i.push(l[1]?l[1]+" ("+l[0]+")":l[0]);if(i.length>0)return e(t,"text",g(e,i.join(", ")))}function Q(e,t){return e(t,"strong",o(e,t))}function Z(e,t){const r=e.wrapText;e.wrapText=!1;const n=e(t,"tableCell",o(e,t));if(t.properties&&(t.properties.rowSpan||t.properties.colSpan)){const i=n.data||(n.data={});t.properties.rowSpan&&(i.rowSpan=t.properties.rowSpan),t.properties.colSpan&&(i.colSpan=t.properties.colSpan)}return e.wrapText=r,n}function Ct(e,t){return e(t,"tableRow",o(e,t))}const jt=f("thead"),qt=f("tr"),Et=f(["th","td"]);function Ot(e,t){if(e.inTable)return e(t,"text",g(e,N(t)));e.inTable=!0;const{headless:r,align:n}=$t(t),i=Ft(o(e,t),r);let l=1,s=-1;for(;++s<i.length;){const c=i[s].children;let u=-1;for(;++u<c.length;){const h=c[u];if(h.data){const b=Number.parseInt(String(h.data.colSpan),10)||1,m=Number.parseInt(String(h.data.rowSpan),10)||1;if(b>1||m>1){let y=s-1;for(;++y<s+m;){let x=u-1;for(;++x<u+b&&i[y];){const z=[];(y!==s||x!==u)&&z.push({type:"tableCell",children:[]}),i[y].children.splice(x,0,...z)}}}"colSpan"in h.data&&delete h.data.colSpan,"rowSpan"in h.data&&delete h.data.rowSpan,Object.keys(h.data).length===0&&delete h.data}}c.length>l&&(l=c.length)}for(s=-1;++s<i.length;){const c=i[s].children;let u=c.length-1;for(;++u<l;)c.push({type:"tableCell",children:[]})}let a=n.length-1;for(;++a<l;)n.push(null);return e.inTable=!1,e(t,"table",{align:n},i)}function $t(e){let t=!0,r=0,n=0;const i=[null];return B(e,"element",l=>{if(l.tagName==="table"&&e!==l)return xe;Et(l)&&l.properties?(i[n]||(i[n]=String(l.properties.align||"")||null),t&&r<2&&l.tagName==="th"&&(t=!1),n++):jt(l)?t=!1:qt(l)&&(r++,n=0)}),{align:i,headless:t}}function Ft(e,t){let r=-1;const n=[];let i;for(t&&n.push({type:"tableRow",children:[]});++r<e.length;){const l=e[r];l.type==="tableRow"?(i&&(l.children.unshift(...i),i=void 0),n.push(l)):(i||(i=[]),i.push(l))}for(i&&n[n.length-1].children.push(...i),r=-1;++r<n.length;)n[r].children=Pt(n[r].children);return n}function Pt(e){const t=[];let r=-1,n,i;for(;++r<e.length;)n=e[r],n.type==="tableCell"?(i&&(n.children.unshift(...i),i=void 0),t.push(n)):(i||(i=[]),i.push(n));return i&&(n=t[t.length-1],n||(n={type:"tableCell",children:[]},t.push(n)),n.children.push(...i)),t}function Rt(e,t){return e(t,"text",g(e,t.value))}function Lt(e,t){return e(t,"text",g(e,N(t)))}function Ut(e,t){return e(t,"text","​")}const ee={root:Bt,text:Rt,comment:pt,doctype:p,applet:p,area:p,basefont:p,bgsound:p,caption:p,col:p,colgroup:p,command:p,content:p,datalist:p,dialog:p,element:p,embed:p,frame:p,frameset:p,isindex:p,keygen:p,link:p,math:p,menu:p,menuitem:p,meta:p,nextid:p,noembed:p,noframes:p,optgroup:p,option:p,param:p,script:p,shadow:p,source:p,spacer:p,style:p,svg:p,template:p,title:p,track:p,abbr:o,acronym:o,bdi:o,bdo:o,big:o,blink:o,button:o,canvas:o,cite:o,data:o,details:o,dfn:o,font:o,ins:o,label:o,map:o,marquee:o,meter:o,nobr:o,noscript:o,object:o,output:o,progress:o,rb:o,rbc:o,rp:o,rt:o,rtc:o,ruby:o,slot:o,small:o,span:o,sup:o,sub:o,tbody:o,tfoot:o,thead:o,time:o,address:d,article:d,aside:d,body:d,center:d,div:d,fieldset:d,figcaption:d,figure:d,form:d,footer:d,header:d,hgroup:d,html:d,legend:d,main:d,multicol:d,nav:d,picture:d,section:d,a:Je,audio:G,b:Q,base:Qe,blockquote:Ze,br:et,code:v,dir:$,dl:gt,dt:O,dd:O,del:E,em:I,h1:k,h2:k,h3:k,h4:k,h5:k,h6:k,hr:mt,i:I,iframe:bt,img:_,image:_,input:xt,kbd:v,li:O,listing:A,mark:I,ol:$,p:J,plaintext:A,pre:A,q:It,s:E,samp:v,select:Tt,strike:E,strong:Q,summary:J,table:Ot,td:Z,textarea:Lt,th:Z,tr:Ct,tt:v,u:I,ul:$,var:v,video:G,wbr:Ut,xmp:A};function p(){}const zt=P(["heading","paragraph","root"]);function be(e,t={}){const r={};let n;const i=Object.assign((a,c,u,h)=>{let b;typeof u=="string"||Array.isArray(u)?(h=u,b={}):b=u;const m={type:c,...b};return typeof h=="string"?m.value=h:h&&(m.children=h),a.position&&(m.position=a.position),m},{nodeById:r,baseFound:!1,inTable:!1,wrapText:!0,frozenBaseUrl:null,qNesting:0,handlers:t.handlers?{...ee,...t.handlers}:ee,document:t.document,checked:t.checked||"[x]",unchecked:t.unchecked||"[ ]",quotes:t.quotes||['"']});B(e,"element",a=>{const c=a.properties&&"id"in a.properties&&String(a.properties.id).toUpperCase();c&&!T.call(r,c)&&(r[c]=a)}),Ce({newlines:t.newlines===!0})(e);const l=se(i,e,void 0);return l?Array.isArray(l)?n={type:"root",children:l}:n=l:n={type:"root",children:[]},B(n,"text",s),n;function s(a,c,u){if(c===null||!u)return;const h=u.children[c-1];if(h&&h.type===a.type)return h.value+=a.value,u.children.splice(c,1),h.position&&a.position&&(h.position.end=a.position.end),c-1;if(a.value=a.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),u&&zt(u)&&(c||(a.value=a.value.replace(/^[\t ]+/,"")),c===u.children.length-1&&(a.value=a.value.replace(/[\t ]+$/,""))),!a.value)return u.children.splice(c,1),c}}const _t=function(e,t){let r,n;return typeof e=="function"?(n=e,r=t||{}):r=e||{},(r.document===void 0||r.document===null)&&(r=Object.assign({},r,{document:!0})),n?Wt(n,r):Mt(r)};function Wt(e,t){return(r,n,i)=>{e.run(be(r,t),n,l=>{i(l)})}}function Mt(e={}){return t=>be(t,e)}export{o as all,_t as default,ee as defaultHandlers,se as one};
